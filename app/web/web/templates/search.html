{% extends "layout.html" %}
{% block title %} - Search{% endblock %}
{% block heading %}Search Criteria{% endblock %}
{% macro search_field(type, name, desc, value) -%}
        <!--<dt class="centered">{{ desc }}</dt>-->
        <!--<dd class="centered"><input type="text" placeholder="{{ desc }}" name="{{ name }}" value="{{ value }}"/></dd>-->
    <div class="form-group">
        <label class="control-label col-sm-5" for="{{ name }}">{{ desc }}:</label>
        <div class="col-sm-10">
            <input type="{{ type }}" class="form-control" id="{{ name }}" name="{{ name }}" placeholder="{{ desc }}" value="{{ value }}">
        </div>
    </div>
{%- endmacro %}
{% block body %}
<form class="form-horizontal" name="search_control" method="post" action="/find">
    <!--<dl>-->
    {{ search_field('text', 'name_first', 'First Name', fields['name_first']) }}
    {{ search_field('text', 'name_last', 'Last Name', fields['name_last']) }}
    {{ search_field('text', 'phone_number', 'Phone Number', fields['phone_number']) }}
    {{ search_field('emailbox', 'email', 'Email Address', fields['email']) }}
    <!--</dl>-->
    <input type="submit" value="Search"/>
</form>
{% if count and count > 0 %}
    {% for row in results %}
    <div>
        <h3>{{loop.index}}</h3>
        <dl>
        {% for field, value in row.items() %}
            <dt>{{ field|replace('_', ' ')|title }}</dt>
            <dd>{{ value }}</dd>
        {% endfor %}
        </dl>
    </div>
    {% endfor %}
{% endif %}
{% endblock %}